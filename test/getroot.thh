tamed void run()
{
  tvars {
    puppet::Puppet A, B;
  }
  puppet::spawn("./client_driver -P 15808");
  puppet::spawn("./server_driver -P 15807");
  sleep(1);
  twait {
    A.connect("localhost",15808,make_event());
    B.connect("localhost",15807,make_event());
  }
  printf("All puppets up.\n");
  twait {
    A.send_getroot("val", make_event());
  }
}
